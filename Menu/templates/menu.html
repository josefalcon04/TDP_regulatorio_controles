<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regulatorio</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <!-- Barra superior -->
    <header class="topbar">
        <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo de la empresa" class="logo">
        <div class="topbar-title">REGULATORIO PERIÓDICO</div>
    </header>
    
    <!-- Botón para mostrar la barra lateral cuando esté oculta -->
    <div class="menu-toggle hidden" onclick="mostrarSidebar()">☰</div>

    <!-- Contenedor principal -->
    <div class="main-container">
        <!-- Barra lateral -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2><a href="#" onclick="cargarContenido('/inicio')">🏠 Inicio</a></h2>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#" onclick="ocultarSidebar(); cargarContenido('/calendario')">📅 Calendario</a></li>
                
                <!-- Opción Monitoreo con submenú -->
                <li class="submenu">
                    <a href="#" class="submenu-toggle">🖥️ Monitoreo ▾</a>
                    <ul class="submenu-content hidden">
                        <li><a href="#" onclick="ocultarSidebar(); cargarContenido('/monitoreo/')">📊 Reportes</a></li>
                        <li><a href="#" onclick="ocultarSidebar(); cargarContenido('/monitoreo2')">⚙️ Inputs</a></li>
                    </ul>
                </li>
        
                <!-- Opción Calidad del dato con submenú -->
<li class="submenu">
    <a href="#" class="submenu-toggle">📈 Calidad del dato ▾</a>
    <ul class="submenu-content hidden">
        <li class="submenu">
            <a href="#" class="submenu-toggle">✅ Tendencias ▾</a>
            <ul class="submenu-content hidden">
                <li><a href="#" onclick="ocultarSidebar(); cargarContenido('/planta')">📊 Planta de Control</a></li>
                <li><a href="#" onclick="ocultarSidebar(); cargarContenido('/tendencias2')">📉 Planta MTC</a></li>
                <li><a href="#" onclick="ocultarSidebar(); cargarContenido('/tendencias3')">📍 Departamentos(33-34)</a></li>
            </ul>
        </li>
        <li><a href="#" onclick="ocultarSidebar(); cargarContenido('/calidad2')">📌 Inconsistencias</a></li>
    </ul>
</li>

            </ul>
        </nav>
        
        <!-- Área invisible para detectar el mouse y mostrar la barra lateral -->
        <div class="sidebar-trigger"></div>

        <!-- Contenido principal -->
        <main class="content">
            <div id="contenido">
                <h2>Bienvenido a Regulatorio Periódico</h2>
                <p>Explora las diferentes secciones disponibles:</p>
                <div class="cards-container">
                    <div class="card" onclick="cargarContenido('/calendario')">
                        <h3>📅 Calendario</h3>
                        <p>Consulta fechas clave y eventos importantes.</p>
                    </div>
                    <div class="card" onclick="cargarContenido('/monitoreo/')">
                        <h3>🖥️ Monitoreo</h3>
                        <p>Supervisa la ejecución de reportes y procesos.</p>
                    </div>
                    <div class="card" onclick="cargarContenido('/calidad1')">
                        <h3>📈 Calidad del dato</h3>
                        <p>Analiza y valida la integridad de los datos.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script>
        function ocultarSidebar() {
            $('.sidebar').addClass('hidden');
            $('.menu-toggle').removeClass('hidden'); // Muestra el botón ☰ cuando la barra está oculta
        }

        function mostrarSidebar() {
            $('.sidebar').removeClass('hidden');
            $('.menu-toggle').addClass('hidden'); // Oculta el botón ☰ cuando la barra está visible
        }

        $(document).ready(function () {
            $('.sidebar').removeClass('hidden'); // Asegura que la barra esté visible al inicio

            $('.sidebar-trigger').mouseenter(function () {
                $('.sidebar').removeClass('hidden');
                $('.menu-toggle').addClass('hidden'); // Oculta el botón ☰ cuando la barra aparece
            });

            $('.sidebar').mouseleave(function () {
                $('.sidebar').addClass('hidden');
                $('.menu-toggle').removeClass('hidden'); // Muestra el botón ☰ cuando la barra se oculta
            });

            // Funcionalidad para mostrar/ocultar submenús
            $('.submenu-toggle').click(function (e) {
                e.preventDefault();
                $(this).next('.submenu-content').slideToggle();
            });
        });
    </script>
</body>
</html>
